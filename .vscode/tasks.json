{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "xcodebuild: build (Debug iOS Simulator)",
      "type": "shell",
      "command": "xcodebuild",
      "args": [
        "-project",
        "${workspaceFolder}/MorseCode.xcodeproj",
        "-scheme",
        "MorseCode",
        "-configuration",
        "Debug",
        "-sdk",
        "iphonesimulator",
        "-destination",
        "platform=iOS Simulator,name=iPhone 15"
      ],
      "problemMatcher": "$gcc",
      "group": "build"
    },
    {
      "label": "xcodebuild: clean",
      "type": "shell",
      "command": "xcodebuild",
      "args": [
        "clean",
        "-project",
        "${workspaceFolder}/MorseCode.xcodeproj",
        "-scheme",
        "MorseCode"
      ],
      "problemMatcher": "$gcc"
    },
    {
      "label": "xcodebuild: test (iOS Simulator)",
      "type": "shell",
      "command": "xcodebuild",
      "args": [
        "test",
        "-project",
        "${workspaceFolder}/MorseCode.xcodeproj",
        "-scheme",
        "MorseCode",
        "-sdk",
        "iphonesimulator",
        "-destination",
        "platform=iOS Simulator,name=iPhone 15"
      ],
      "problemMatcher": "$gcc"
    },
    {
      "label": "xcodebuild: run (iOS Simulator)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-lc",
        "set -euo pipefail\nPROJECT=\"${workspaceFolder}/MorseCode.xcodeproj\"\nSCHEME=\"MorseCode\"\nDERIVED=\"${workspaceFolder}/.derivedData\"\nSIM_NAME=\"iPhone 15\"\n\nxcrun simctl boot \"$SIM_NAME\" >/dev/null 2>&1 || true\nxcodebuild -project \"$PROJECT\" -scheme \"$SCHEME\" -configuration Debug -sdk iphonesimulator -destination \"platform=iOS Simulator,name=$SIM_NAME\" -derivedDataPath \"$DERIVED\" build\nAPP_PATH=$(find \"$DERIVED/Build/Products/Debug-iphonesimulator\" -maxdepth 1 -name \"*.app\" | head -n 1)\nif [ -z \"$APP_PATH\" ]; then\n  echo \"No .app found. Build may have failed.\"\n  exit 1\nfi\nBUNDLE_ID=$(/usr/libexec/PlistBuddy -c \"Print:CFBundleIdentifier\" \"$APP_PATH/Info.plist\")\nxcrun simctl install booted \"$APP_PATH\"\nxcrun simctl launch booted \"$BUNDLE_ID\""
      ],
      "problemMatcher": "$gcc",
      "group": "test"
    }
  ]
}
